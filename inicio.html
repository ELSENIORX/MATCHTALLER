<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <div class="logo">
            <img src="images/logo.png" alt="Logo" class="logo-img">
        </div>
        <nav>
            <a class="textnav" href="inicio.html">inicio</a>
            <a class="textnav" href="index.html">productos</a>
        </nav>
    </header>
    <main>
        <section class="hero-carousel">
            <div class="carousel-container">
                <img src="images/princ1.jpg" alt="Mueble Moderno 1" class="carousel-image active">
                <img src="images/princ.jpg" alt="Mueble Clásico 2" class="carousel-image">
                <img src="images/pinci2.jpg" alt="Mueble Rústico 3" class="carousel-image">
                <img src="images/princ3.jpg" alt="Mueble Minimalista 4" class="carousel-image">
                <div class="carousel-text">
                    <h2 style="font-style: italic; color: gold; font-size: 18px;">Mach Taller</h2>
                    <p>Transforma tu taller con el mejor estilo</p>
                </div>
            </div>
        </section>

        <div class="product-category">
            <h2>Nuestros productos</h2>
            <div class="product-grid">
                <div class="product-card"
                    data-images='["images/exibidorherra6.jpeg", "images/exibidorherra5.jpeg", "images/exibidorherra4.jpeg", "images/exibidorherra3.jpeg","images/exibidorherra2.jpeg"]'>
                    <img src="images/exibidorherra6.jpeg" alt="Producto 1" loading="lazy">


                    <h3>EXHIBIDOR PARA HERRAMIENTAS </h3>
                    <p class="description">medidas 2 MTRS de alto 95 CM de ancho Piso madera Masisa 45 × 95</p>
                    <p class="price">Precio: 1200 Bs</p>
                    <a href="https://wa.me/59171793385?text=¡Hola!%20Me%20interesa%20el%20Mesa%20exhibidor%20de%20herramientas."
                        target="_blank" class="whatsapp-button">
                        WhatsApp
                    </a>
                </div>
                <div class="product-card"
                    data-images='["images/mesatrabajo.jpeg", "images/mesatrabajo2.jpeg", "images/mesatrabajo3.jpeg"]'>
                    <img src="images/mesatrabajo2.jpeg" alt="Producto 1" loading="lazy">

                    <h3>MESA DE TRABAJO</h3>
                    <p class="description">Con tablero de herramientas desmontable Medida mesa 80 CM ALTO 60 CM ANCHO
                        130 CM LARGO Medidas tablero 70 CM alto 130 CM largo </p>
                    <p class="price">Precio 2450</p>
                    <a href="https://wa.me/59171793385?text=¡Hola!%20Me%20interesa%20la%20mesa%20de%20de%20trabajo."
                        target="_blank" class="whatsapp-button">
                        WhatsApp
                    </a>
                </div>

                <div class="product-card" data-images='["images/mesa.jpeg", "images/mesa2.jpeg"]'>
                    <img src="images/mesa.jpeg" alt="Producto 1" loading="lazy">
                    <h3> MESA DE TRABAJO FORRADO CON PLANCHA GALVANIZADA </h3>
                    <h4>De alta resistencia listo para empotrar su prensa </h4>
                    <p class="description">MEDIDAS 80 CM ALTO 120 CM LARGO 70 CM ANCHO </p>
                    <p class="price"> PRECIO 1500 BS</p>
                    <a href="https://wa.me/59171793385?text=¡Hola!%20Me%20interesa%20la%20mesa%20de%20trabajo."
                        target="_blank" class="whatsapp-button">
                        WhatsApp
                    </a>
                </div>
            </div>
        </div>

       <section class="highlight-gallery">
    <div class="gallery-header">
        <h2>Explora Nuestro Trabajo y Proyectos</h2>
        <p>La calidad y el diseño se encuentran en cada detalle.</p>
    </div>
    <div class="gallery-grid">
        <div class="gallery-item">
            <img src="images/detailmesa.jpeg" data-src="images/detailmesa.jpeg" alt="Proyecto 1">
            <div class="overlay">
                <p>Diseño Moderno</p>
            </div>
        </div>
        <div class="gallery-item">
            <img src="images/detailmesa3.jpeg" data-src="images/detailmesa3.jpeg" alt="Proyecto 2">
            <div class="overlay">
                <p>Fabricación a Medida</p>
            </div>
        </div>
        <div class="gallery-item">
            <img src="images/mesa2.jpeg" data-src="images/mesa2.jpeg" alt="Proyecto 3">
            <div class="overlay">
                <p>Acabados Premium</p>
            </div>
        </div>
        <div class="gallery-item">
            <img src="images/exibidorherra5.png" data-src="images/exibidorherra5.png" alt="Proyecto 4">
            <div class="overlay">
                <p>Transformando Espacios</p>
            </div>
        </div>
        <!-- <div class="gallery-item">
            <img src="images/gallery5.jpg" data-src="images/gallery5_full.jpg" alt="Proyecto 5">
            <div class="overlay">
                <p>Soluciones para Talleres</p>
            </div>
        </div>
        <div class="gallery-item">
            <img src="images/gallery6.jpg" data-src="images/gallery6_full.jpg" alt="Proyecto 6">
            <div class="overlay">
                <p>Transformando Espacios</p>
            </div>
        </div> -->
    </div>
</section>
        </main>

    <footer class="page-footer">
        <p>&copy; Match taller la mejor en calidad y precio</p>
        <p>Contacto: +591 74372827| Tel: +591 71793385</p>
    </footer>

    <div id="image-modal" class="modal">
        <span class="close">&times;</span>
        <button id="prev-btn">&#10094;</button>
        <img id="modal-img" class="modal-content" src="">
        <button id="next-btn">&#10095;</button>
    </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
        const modal = document.getElementById("image-modal");
        const modalImg = document.getElementById("modal-img");
        const closeBtn = document.querySelector(".close");
        const prevBtn = document.getElementById("prev-btn");
        const nextBtn = document.getElementById("next-btn");

        let currentImages = [];
        let currentIndex = 0;

        // Función para mostrar una imagen en el modal
        function showImage(index) {
            modalImg.src = currentImages[index];
            // Opcional: Centrar modal en la imagen
            modalImg.style.maxWidth = '90%';
            modalImg.style.maxHeight = '90%';
        }

        // --- Manejar clics para tarjetas de producto ---
        document.querySelectorAll(".product-card").forEach(card => {
            const imgElement = card.querySelector("img");
            const images = JSON.parse(card.getAttribute("data-images"));

            imgElement.addEventListener("click", () => {
                currentImages = images;
                // Buscar el índice de la imagen clicada en el array de imágenes de la tarjeta
                const clickedSrc = imgElement.src.substring(imgElement.src.lastIndexOf('/') + 1);
                currentIndex = currentImages.findIndex(img => img.includes(clickedSrc));
                if (currentIndex === -1) currentIndex = 0; // Fallback por si no encuentra la imagen exacta

                showImage(currentIndex);
                modal.style.display = "flex";
            });
        });

        // --- Manejar clics para la nueva galería de imágenes ---
        const galleryItems = document.querySelectorAll('.gallery-item');
        let galleryImages = []; // Array para almacenar todas las imágenes de la galería

        // Recopila todas las rutas de data-src de la galería al inicio
        galleryItems.forEach(item => {
            const imgSrc = item.querySelector('img').getAttribute('data-src');
            if (imgSrc) {
                galleryImages.push(imgSrc);
            }
        });

        galleryItems.forEach((item, index) => {
            const imgElement = item.querySelector('img');
            imgElement.addEventListener('click', () => {
                currentImages = galleryImages; // Establecer las imágenes actuales a las de la galería
                currentIndex = index; // El índice de la imagen clicada en la galería
                showImage(currentIndex);
                modal.style.display = 'flex';
            });
        });


        // --- Funcionalidad del modal (sin cambios) ---
        closeBtn.addEventListener("click", () => {
            modal.style.display = "none";
        });

        prevBtn.addEventListener("click", () => {
            currentIndex = (currentIndex - 1 + currentImages.length) % currentImages.length;
            showImage(currentIndex);
        });

        nextBtn.addEventListener("click", () => {
            currentIndex = (currentIndex + 1) % currentImages.length;
            showImage(currentIndex);
        });

        modal.addEventListener("click", (e) => {
            // Cierra el modal solo si se hace clic fuera de la imagen y los botones de navegación
            if (e.target === modal || e.target === closeBtn) {
                modal.style.display = "none";
            }
        });

        // Animación para elementos de la galería al hacer scroll (Intersection Observer)
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-in');
                    // Opcional: una vez animado, dejar de observar para mejor rendimiento
                    observer.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.3 // Dispara cuando el 30% del elemento es visible
        });

        galleryItems.forEach(item => {
            observer.observe(item);
        });

    });
</script>
    <script src="script.js"></script>
</body>

</html>